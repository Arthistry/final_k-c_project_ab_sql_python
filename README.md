Финальный проект курса Аналитик данных  
от karpov.courses (Вариант 2)
=====================================  


Результаты и процесс исселдования содержатся в файле **final_project.ipynb**.  
Данные и их структура представлены в папке **data**.  
Используемый стек: **Python**, **Pandas**, **NumPy**, **Matplotlib**,  
**Seaborn**, **Statsmodel**, **SciPy**, **Pandahouse**, **SQL**

### Задание 1. A/B–тестирование

Одной из основных задач аналитика в нашей команде является корректное проведение экспериментов.  
Для этого мы применяем метод A/B–тестирования. В ходе тестирования одной гипотезы целевой группе  
была предложена новая механика оплаты услуг на сайте, у контрольной группы оставалась базовая  
механика. В качестве задания Вам необходимо проанализировать итоги эксперимента и сделать вывод,  
стоит ли запускать новую механику оплаты на всех пользователей.

### Задание 2. SQL

#### 2.1 Очень усердные ученики.  

Дана таблица **default.peas**:

| Название атрибута | Тип атрибута | Смысловое значение                         |
|-------------------|--------------|--------------------------------------------|
| st_id             | int          | ID ученика                                 |
| timest            | timestamp    | Время решения карточки                     |
| correct           | bool         | Правильно ли решено задание                |
| subject           | text         | Дисциплина, в которой находится задание    |

Необходимо написать оптимальный запрос, который даст информацию о количестве очень усердных студентов.  
NB! Под усердным студентом мы понимаем студента, который правильно решил 20 задач за текущий месяц.

#### 2.2 Оптимизация воронки

Помимо таблицы **defaul.peas** дана таблица **default.studs**:

| Название атрибута | Тип атрибута | Смысловое значение                     |
|-------------------|--------------|----------------------------------------|
| st_id             | int          | ID ученика                             |
| test_grp          | text         | Метка ученика в данном эксперименте    |


И таблица **default.final_project_check**:

| Название атрибута | Тип атрибута | Смысловое значение                         |
|-------------------|--------------|--------------------------------------------|
| st_id             | int          | ID ученика                                 |
| sale_time         | timestamp    | Время покупки                              |
| money             | int          | Цена, по которой приобрели данный курс     |
| subject           | text         | Дисциплина курса                           |

Необходимо в одном запросе выгрузить следующую информацию о группах пользователей:

* ARPU;
* ARPAU; 
* CR в покупку; 
* СR активного пользователя в покупку; 
* CR пользователя из активности по математике (subject = ’math’) в покупку курса по математике;
* ARPU считается относительно всех пользователей, попавших в группы.

Активным считается пользователь, за все время решивший больше 10 задач правильно в любых дисциплинах.  
Активным по математике считается пользователь, за все время решивший 2 или больше задач правильно по математике.

### Задание 3. Python

#### 3.1 Подгрузка дополнительных данных

Реализуйте функцию, которая будет автоматически подгружать информацию из дополнительного файла groups_add.csv  
и на основании дополнительных параметров пересчитывать метрики.

#### 3.2 Визуализация метрик с учётом дополнительных данных

Реализуйте функцию, которая будет строить графики по получаемым метрикам.
